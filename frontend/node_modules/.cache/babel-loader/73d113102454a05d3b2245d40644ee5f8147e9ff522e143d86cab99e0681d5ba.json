{"ast":null,"code":"import _objectSpread from\"/root/crypto-token-app/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useForm}from'react-hook-form';import toast from'react-hot-toast';import{tokenAPI}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MintTokenForm=_ref=>{let{onSuccess}=_ref;const{register,handleSubmit,reset,setValue,formState:{errors}}=useForm();const[isLoading,setIsLoading]=useState(false);const generateAddress=()=>{const chars='0123456789abcdef';let address='0x';for(let i=0;i<40;i++){address+=chars[Math.floor(Math.random()*chars.length)];}setValue('owner_address',address);};const onSubmit=async data=>{setIsLoading(true);try{const result=await tokenAPI.mintToken({name:data.name,symbol:data.symbol,initial_supply:parseFloat(data.initial_supply),owner_address:data.owner_address});toast.success(result.message);reset();onSuccess===null||onSuccess===void 0?void 0:onSuccess();}catch(error){var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to mint token');}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium\",children:\"Token Name\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('name',{required:'Token name is required'})),{},{className:\"w-full border p-2 rounded\",placeholder:\"Bitcoin Gold\"})),errors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.name.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium\",children:\"Token Symbol\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('symbol',{required:'Token symbol is required'})),{},{className:\"w-full border p-2 rounded\",placeholder:\"BTG\"})),errors.symbol&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.symbol.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium\",children:\"Initial Supply\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"number\"},register('initial_supply',{required:'Initial supply is required',min:{value:1,message:'Supply must be at least 1'}})),{},{className:\"w-full border p-2 rounded\",placeholder:\"1000000\"})),errors.initial_supply&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.initial_supply.message})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block font-medium\",children:\"Owner Wallet Address\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({type:\"text\"},register('owner_address',{required:'Owner address is required'})),{},{className:\"flex-1 border p-2 rounded\",placeholder:\"0x742d35Cc6634C0532925a3b8D404fD4C0b4f1234\"})),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:generateAddress,className:\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\",children:\"Generate\"})]}),errors.owner_address&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:errors.owner_address.message})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,className:\"w-full py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition\",children:isLoading?'Minting Token...':'üè≠ Mint Token'})]});};export default MintTokenForm;","map":{"version":3,"names":["React","useState","useForm","toast","tokenAPI","jsx","_jsx","jsxs","_jsxs","MintTokenForm","_ref","onSuccess","register","handleSubmit","reset","setValue","formState","errors","isLoading","setIsLoading","generateAddress","chars","address","i","Math","floor","random","length","onSubmit","data","result","mintToken","name","symbol","initial_supply","parseFloat","owner_address","success","message","error","_error$response","_error$response$data","response","className","children","_objectSpread","type","required","placeholder","min","value","onClick","disabled"],"sources":["/root/crypto-token-app/frontend/src/components/MintTokenForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport toast from 'react-hot-toast';\nimport { tokenAPI } from '../services/api';\n\nconst MintTokenForm = ({ onSuccess }) => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    setValue,\n    formState: { errors },\n  } = useForm();\n\n  const [isLoading, setIsLoading] = useState(false);\n\n  const generateAddress = () => {\n    const chars = '0123456789abcdef';\n    let address = '0x';\n    for (let i = 0; i < 40; i++) {\n      address += chars[Math.floor(Math.random() * chars.length)];\n    }\n    setValue('owner_address', address);\n  };\n\n  const onSubmit = async (data) => {\n    setIsLoading(true);\n    try {\n      const result = await tokenAPI.mintToken({\n        name: data.name,\n        symbol: data.symbol,\n        initial_supply: parseFloat(data.initial_supply),\n        owner_address: data.owner_address,\n      });\n      toast.success(result.message);\n      reset();\n      onSuccess?.();\n    } catch (error) {\n      toast.error(error.response?.data?.message || 'Failed to mint token');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n      <div>\n        <label className=\"block font-medium\">Token Name</label>\n        <input\n          type=\"text\"\n          {...register('name', { required: 'Token name is required' })}\n          className=\"w-full border p-2 rounded\"\n          placeholder=\"Bitcoin Gold\"\n        />\n        {errors.name && <p className=\"text-red-500 text-sm\">{errors.name.message}</p>}\n      </div>\n\n      <div>\n        <label className=\"block font-medium\">Token Symbol</label>\n        <input\n          type=\"text\"\n          {...register('symbol', { required: 'Token symbol is required' })}\n          className=\"w-full border p-2 rounded\"\n          placeholder=\"BTG\"\n        />\n        {errors.symbol && <p className=\"text-red-500 text-sm\">{errors.symbol.message}</p>}\n      </div>\n\n      <div>\n        <label className=\"block font-medium\">Initial Supply</label>\n        <input\n          type=\"number\"\n          {...register('initial_supply', {\n            required: 'Initial supply is required',\n            min: { value: 1, message: 'Supply must be at least 1' },\n          })}\n          className=\"w-full border p-2 rounded\"\n          placeholder=\"1000000\"\n        />\n        {errors.initial_supply && (\n          <p className=\"text-red-500 text-sm\">{errors.initial_supply.message}</p>\n        )}\n      </div>\n\n      <div>\n        <label className=\"block font-medium\">Owner Wallet Address</label>\n        <div className=\"flex gap-2\">\n          <input\n            type=\"text\"\n            {...register('owner_address', { required: 'Owner address is required' })}\n            className=\"flex-1 border p-2 rounded\"\n            placeholder=\"0x742d35Cc6634C0532925a3b8D404fD4C0b4f1234\"\n          />\n          <button\n            type=\"button\"\n            onClick={generateAddress}\n            className=\"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700\"\n          >\n            Generate\n          </button>\n        </div>\n        {errors.owner_address && (\n          <p className=\"text-red-500 text-sm\">{errors.owner_address.message}</p>\n        )}\n      </div>\n\n      <button\n        type=\"submit\"\n        disabled={isLoading}\n        className=\"w-full py-3 bg-blue-600 text-white rounded hover:bg-blue-700 transition\"\n      >\n        {isLoading ? 'Minting Token...' : 'üè≠ Mint Token'}\n      </button>\n    </form>\n  );\n};\n\nexport default MintTokenForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}